
# 19.2s user time, 240ms system time, 28.17M rss, 304.89M vsz
# Current date: Sat Jul 19 16:55:57 2014
# Hostname: ip-172-31-26-61
# Files: /tmp/mysql-slow.log
# Overall: 124.23k total, 15 unique, 1.88k QPS, 0.71x concurrency ________
# Time range: 2014-07-19 16:54:31 to 16:55:37
# Attribute          total     min     max     avg     95%  stddev  median
# ============     ======= ======= ======= ======= ======= ======= =======
# Exec time            47s    13us   368ms   377us   204us     5ms    22us
# Lock time          300ms       0     5ms     2us       0    23us       0
# Rows sent        154.61k       0     206    1.27       0   11.76       0
# Rows examine      11.16M       0  20.67k   94.20       0   1.22k       0
# Query size         5.06M      14     560   42.70   42.48   16.94   40.45

# Profile
# Rank Query ID           Response time Calls  R/Call V/M   Item
# ==== ================== ============= ====== ====== ===== ============
#    1 0x4517399CB130EF84 36.1401 77.2%   1167 0.0310  0.05 SELECT memos
#    2 0x8ED61FE2C1C9A2A1  5.8590 12.5% 117944 0.0000  0.00 SELECT users
#    3 0x08E3E2CA950A9030  1.7696  3.8%   1167 0.0015  0.01 SELECT memos
#    4 0x391C57CEB1157B93  1.3737  2.9%   1032 0.0013  0.00 SELECT memos
# MISC 0xMISC              1.6958  3.6%   2920 0.0006   0.0 <11 ITEMS>

# Query 1: 18.82 QPS, 0.58x concurrency, ID 0x4517399CB130EF84 at byte 157712
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.05
# Time range: 2014-07-19 16:54:31 to 16:55:33
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    1167
# Exec time     77     36s    25us   368ms    31ms   105ms    41ms     8ms
# Lock time     19    58ms       0   159us    50us   108us    37us    60us
# Rows sent     49  76.27k       0     100   66.92   97.36   45.81   97.36
# Rows examine  61   6.89M       0  20.61k   6.05k  20.37k   7.14k   1.46k
# Query size     1 101.40k      82      95   88.98   92.72    6.26   92.72
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  #################################################
# 100us  ##############
#   1ms  ################
#  10ms  ################################################################
# 100ms  #############
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'memos'\G
#    SHOW CREATE TABLE `isucon`.`memos`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM memos WHERE is_private=0 ORDER BY created_at DESC, id DESC LIMIT 100 OFFSET 10200\G
# *************************** 1. row ***************************
#            id: 1
#   select_type: SIMPLE
#         table: memos
#    partitions: NULL
#          type: ref
# possible_keys: memos_idx_is_private_created_at
#           key: memos_idx_is_private_created_at
#       key_len: 1
#           ref: const
#          rows: 31059
#         Extra: Using where

# Query 2: 1.90k QPS, 0.09x concurrency, ID 0x8ED61FE2C1C9A2A1 at byte 7192688
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2014-07-19 16:54:31 to 16:55:33
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         94  117944
# Exec time     12      6s    13us    28ms    49us   185us   184us    21us
# Lock time     10    32ms       0     5ms       0       0    17us       0
# Rows sent      0     405       0       1    0.00       0    0.06       0
# Rows examine   0     405       0       1    0.00       0    0.06       0
# Query size    90   4.57M      39      41   40.64   40.45    0.88   40.45
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  #########
#   1ms  #
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'users'\G
#    SHOW CREATE TABLE `isucon`.`users`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT username FROM users WHERE id='143'\G
# *************************** 1. row ***************************
#            id: 1
#   select_type: SIMPLE
#         table: users
#    partitions: NULL
#          type: const
# possible_keys: PRIMARY
#           key: PRIMARY
#       key_len: 4
#           ref: const
#          rows: 1
#         Extra: NULL

# Query 3: 18.82 QPS, 0.03x concurrency, ID 0x08E3E2CA950A9030 at byte 32120
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2014-07-19 16:54:31 to 16:55:33
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    1167
# Exec time      3      2s    13us    30ms     2ms     9ms     3ms    26us
# Lock time      7    22ms       0     2ms    18us    66us   104us       0
# Rows sent      0     208       0       1    0.18    0.99    0.38       0
# Rows examine  37   4.19M       0  20.67k   3.68k  20.37k   7.79k       0
# Query size     1  56.98k      50      50      50      50       0      50
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  #
#   1ms  ##########
#  10ms  ###
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'memos'\G
#    SHOW CREATE TABLE `isucon`.`memos`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT count(*) AS c FROM memos WHERE is_private=0\G
# *************************** 1. row ***************************
#            id: 1
#   select_type: SIMPLE
#         table: memos
#    partitions: NULL
#          type: ref
# possible_keys: memos_idx_is_private_created_at
#           key: memos_idx_is_private_created_at
#       key_len: 1
#           ref: const
#          rows: 31059
#         Extra: Using index

# Query 4: 16.92 QPS, 0.02x concurrency, ID 0x391C57CEB1157B93 at byte 13111139
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2014-07-19 16:54:32 to 16:55:33
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    1032
# Exec time      2      1s    24us    13ms     1ms     3ms     1ms     1ms
# Lock time     12    39ms       0   155us    37us   108us    41us       0
# Rows sent     31  49.29k       0     206   48.91  183.58   65.09       0
# Rows examine   0  49.29k       0     206   48.91  183.58   65.09       0
# Query size     1  57.24k      55      57   56.79   56.92       1   56.92
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  #####################
# 100us  #######################################
#   1ms  ################################################################
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'memos'\G
#    SHOW CREATE TABLE `isucon`.`memos`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM memos WHERE user='289'  ORDER BY created_at\G
# *************************** 1. row ***************************
#            id: 1
#   select_type: SIMPLE
#         table: memos
#    partitions: NULL
#          type: ref
# possible_keys: memos_idx_user_created_at
#           key: memos_idx_user_created_at
#       key_len: 4
#           ref: const
#          rows: 170
#         Extra: Using where
